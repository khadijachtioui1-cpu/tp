#include <stdio.h>

// Fonction pour calculer le PGCD
int pgcd(int a, int b) {
    int temp;
    while (b != 0) {
        temp = a % b;
        a = b;
        b = temp;
    }
    return a;
}

// Algorithme d'Euclide etendu
int euclideEtendu(int a, int b, int *x, int *y) {
    if (b == 0) {
        *x = 1;
        *y = 0;
        return a;
    }
    int x1, y1;
    int d = euclideEtendu(b, a % b, &x1, &y1);
    *x = y1;
    *y = x1 - (a / b) * y1;
    return d;
}

int main() {
    int a, b, c, d, x0, y0;
    printf("=== Resolution de l'equation ax + by = c ===\n");
    printf("Entrer a, b et c : ");
    scanf("%d %d %d", &a, &b, &c);

    if (a == 0 && b == 0) {
        printf("Erreur : a et b ne peuvent pas etre nuls.\n");
        return 0;
    }

    d = euclideEtendu(a, b, &x0, &y0);
    printf("PGCD(%d, %d) = %d\n", a, b, d);

    if (c % d != 0) {
        printf("=> Pas de solution entiere, car %d ne divise pas %d\n", d, c);
        return 0;
    }

    printf("=> Il existe des solutions entieres.\n");

    int xp = x0 * (c / d);
    int yp = y0 * (c / d);

    printf("Solution particuliere : (x, y) = (%d, %d)\n", xp, yp);

    int alpha = b / d;
    int beta  = -a / d;

    printf("Solution generale : (x, y) = (%d + %d*k, %d + %d*k), k appartient a Z\n", xp, alpha, yp, beta);

    return 0;
}
    
